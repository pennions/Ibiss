!function(){"use strict";var a,l,f,e;(e=a=a||{}).Date="date",e.String="string",e.Float="float",e.Number="number",e.Array="array",e.Object="object",e.Bool="bool",e.Currency="currency",e.Undefined="undefined",e.Null="null";const c={date:/^(\d{1,4}-\d{1,4}-\d{1,4}(T)?)/gim,currency:/^[$|€]\s?[0-9]*(\.|,)?\d*(\.|,)?\d*/gim,float:/\d+[,|.]\d+[,|.]?\d*/gim,currencySign:/\$|€/gim,array:/^\s?[[].[^,]+[\]],?/gi,precision:/[-+$€,.]/gm,string:/[a-zA-Z]/gim},d=e=>{return null===e||"null"===e?a.Null:e||0===e||!1===e?null===new RegExp(c.date).exec(e)||isNaN(Date.parse(e))?new RegExp(c.currency).exec(e)?a.Currency:!new RegExp(c.string).exec(e)&&new RegExp(c.float).exec(e.toString())?a.Float:isNaN(e)&&0!==e?Array.isArray(e)?a.Array:"object"==typeof e?a.Object:a.String:a.Number:a.Date:a.Undefined},u=(t,e)=>{const s={value:void 0,type:e=e||d(t),currencySign:""};switch(s.type){case a.String:s.value=t.toString();break;case a.Float:case a.Currency:var r=(t=t.toString()).match(new RegExp(/(,)/gim)),n=t.match(new RegExp(/(\.)/gim));if(r)for(let e=1;e<=r.length;e++)t=e!==r.length||n?t.replace(",",""):t.replace(",",".");if(s.type===a.Currency){const o=new RegExp(c.currencySign);var i=o.exec(t);s.currencySign=null!==i?i[0]:"",t=t.replace(o,"")}s.value=parseFloat(t).toPrecision(12);break;case a.Number:s.value=Number(t);break;case a.Date:s.value=Date.parse(t);break;case a.Array:t.length?"object"==typeof t[0]?s.value=t.map(e=>JSON.stringify(e)).join(", "):s.value=t.join(", "):s.value="";break;case a.Object:s.value=t;break;case a.Undefined:s.value="";break;case a.Null:s.value=null}return s};function v(e,t){var s;let r;for(s of e.split("."))s=s.trim(),r?"object"!=typeof r||Array.isArray(r)||(r=r[s]):r=t[s];return r}const p=(e,t)=>t<e,m=(e,t)=>e<t,g=(e,t)=>t<=e,b=(e,t)=>e<=t,w=(e,t,s)=>s?e.toLowerCase()==t.toLowerCase():e==t,_=(e,t)=>e===t,k=(e,t)=>e!=t,E=(e,t)=>e!==t,A=(e,t)=>null!=t&&"string"==typeof e&&0<=e.toLowerCase().indexOf(t.toString().toLowerCase()),L=(e,t)=>null!=t&&0<=e.toString().toLowerCase().indexOf(t.toString().toLowerCase()),x=(e,t)=>null!=t&&"string"==typeof e&&e.toLowerCase().indexOf(t.toString().toLowerCase())<0;function t(s,r){if(0===r.length)return s;{var n=s;const o=[],a=[];let e=[];for(const c of r)c.type&&c.type!==l.And?(e.length&&a.push(e),e=[c]):e.push(c);a.push(e);let t=[];for(const e of a)t=t.concat(C(n,e));t=[...new Set(t)];var i=n.length;for(let e=0;e<i;e++)t.includes(e)&&o.push(n[e]);return o}}(e=l=l||{}).And="and",e.Or="or";const C=function(e,t){const s=[];if(!e)return s;for(var[r,n]of e.entries()){let e=!0;for(const a of t){var i=v(a.propertyName,n),i=u(i).value,o=u(a.value).value;const c=function(e){switch(e.toLowerCase()){case">":return p;case"<":return m;case">=":return g;case"<=":return b;case"is":case"==":return w;case"!is":case"!=":return k;case"===":return _;case"!==":return E;case"like":case"~":case"contains":return A;case"!contains":case"!like":case"!~":return x;default:return L}}(a.operator);if(!c(i,o,a.ignoreCase)){e=!1;break}}e&&s.push(r)}return s};function s(e,t){if(!t||0===t.length)return e;if(1<t.length){var n=e;var i=t;let s=[],r=[];return i.forEach(e=>{if(0===s.length)s=s.concat(o(n,e));else{for(const t of s)r=r.concat(o(t,e));s=r,r=[]}}),s}return o(e,t[0])}function o(e,t){const s=[],r=[];do{if(!e||0===e.length)break;var n=e.shift();if(!n)break;const o=n[t];var i=r.indexOf(o.toString());0<=i?s[i].push(n):(r.push(o.toString()),void 0!==s[r.length-1]?s[r.length-1].push(n):s.push([n]))}while(0<e.length);return s}function r(e,t){if(!t||0===t.length)return e;const s=Object.assign([],e);if(Array.isArray(s[0])){e=s;var r=t;const n=[];for(const i of e)n.push(i.sort(y(r)));n}else s.sort(y(t));return s}(e=f=f||{}).ascending="asc",e.descending="desc";function y(m,g=0){return function(e,d){var{propertyName:t,direction:s}=m[g];let r=e[t]||"",n=d[t]||"";const h=/^(\d{1,4}-\d{1,4}-\d{1,4}(T)?)/gim;var t=r instanceof Date&&n instanceof Date||h.test(r)&&h.test(n),u=(t&&(r=r instanceof Date?r.valueOf():new Date(Date.parse(r)),n=n instanceof Date?n.valueOf():new Date(Date.parse(n))),!isNaN(r)&&!isNaN(n)),i=(u&&(r=parseFloat(r).toPrecision(12),n=parseFloat(n).toPrecision(12)),!("true"!==r&&"false"!==r||"true"!==n&&"false"!==n));i&&(r="true"===r,n="true"===n);let o,a,c=(a=s===f.descending?(o=n,r):(o=r,n),0);if(i||t||u)c=o-a;else{o=o.toString().trim().toLowerCase(),a=a.toString().trim().toLowerCase();const l=/\d/gim;s=l.test(r)&&l.test(n);c=s?o.localeCompare(a,void 0,{numeric:!0,sensitivity:"base"}):o.localeCompare(a)}i=g+1;if(0===c&&i<m.length){const p=y(m,i);return p(e,d)}return c}}const i=(e,t)=>{if(t){var s=e;const r={};for(const n of t){let e=s.map(e=>e[n].toString());const i=e.map(e=>d(e));i.some(e=>e===a.Float)?(e=e.map(e=>parseFloat(e)),r[n]=parseFloat(e.reduce((e,t)=>e+t).toFixed(2))):(e=e.map(e=>parseInt(e)),r[n]=e.reduce((e,t)=>e+t))}return r}return{}};class I{model;sortDetails=[];filterDetails=[];selection=[];groupByProperties=[];distinctProperties=[];concatenationToken=", ";constructor(e){this.model=JSON.parse(JSON.stringify(e))}sort(e){return this.sortDetails=e,this}orderBy(e,t){return this.sortDetails.push({propertyName:e,direction:t}),this}thenOrderBy(e,t){return this.orderBy(e,t)}filter(e){return Array.isArray(e)?this.filterDetails=e:this.filterDetails.push(e),this}where(e,t,s,r,n){return this.filterDetails.push({propertyName:e,operator:t,value:s,type:r,ignoreCase:n}),this}andWhere(e,t,s,r){return this.where(e,t,s,l.And,r),this}orWhere(e,t,s,r){return this.where(e,t,s,l.Or,r),this}group(e){return this.groupByProperties=e,this}groupBy(e){return this.groupByProperties.push(e),this}thenGroupBy(e){return this.groupByProperties.push(e),this}select(e){return Array.isArray(e)?this.selection=e:"*"!==e&&(this.selection=[e]),this}distinct(e,t){return t&&(this.concatenationToken=t),Array.isArray(e)?this.distinctProperties=e:e&&(this.distinctProperties=[e]),this}execute(){return s(function(t,s){if(0===s.length)return t;{var r=s;let e=[];for(const n of t){const i={};for(const o of r)i[o]=n[o];e.push(i)}return e}}(function(s,r,d){if(!r||!r.length)return s;const n=[],h=[];for(const m of s){const o={};let t="";for(const e of r){var u=v(e,m);o[e]=u,t+=u}if(!h.includes(t)){let e=s;for(const a of Object.keys(o))e=e.filter(e=>e[a]===o[a]);h.push(t),n.push(e)}}const t=[];for(const g of n){let e={};for(const c of g){var i,p=Object.keys(e);if(p.length)for(const l of p)r.includes(l)||(i=e[l],Array.isArray(i)?(i=c[l],Array.isArray(i)?e[l]=[...new Set(...e[l].concat(c[l]))]:e[l].includes(c[l])||e[l].push(c[l])):isNaN(e[l])&&isNaN(c[l])?e[l]!==c[l]&&(e[l]=[e[l],c[l]]):e[l]=e[l]+c[l]);else e=c}t.push(e)}return t.forEach(e=>{for(const t in e)Array.isArray(e[t])&&(e[t]=e[t].join(d))}),t}(r(t(JSON.parse(JSON.stringify(this.model)),this.filterDetails),this.sortDetails),this.distinctProperties,this.concatenationToken),this.selection),this.groupByProperties)}sum(e,t){e=Array.isArray(e)?e:[e];return i(t||this.model,e)}}function S(e,t){t=t?t.toUpperCase():"FLK-";return e.toUpperCase().includes(t)}function h(e,t){var{timeStamp:s,type:r,x:n,y:i}=e;let o=e.target;do{if(!o||"HTML"===o.tagName||S(o.tagName,t)){"HTML"===o.tagName&&(o=null);break}}while(o=o.parentNode||o.parentElement,!S(o.tagName,t));return{target:o,timeStamp:s,type:r,x:n,y:i}}class n{constructor(){}_topLevelClasses=[];_events=[];generateId(){return"flk-"+function e(){const t=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)),s=t.split("-")[0];return window.$flightkitUUIDStore||(window.$flightkitUUIDStore=[]),window.$flightkitUUIDStore.some(e=>e===s)?e():(window.$flightkitUUIDStore.push(s),s)}()}render(t){if(!t.component)throw new Error("Component is not assigned! Can't render");t.id=t.id||this.generateId();var e=this._getAllEventAttributes(t);if(e){var s="#"+t.id;for(const i of e){var r="e-"+i;this.addEvent(s,i,t.getAttribute(r))}}var n=Object.keys(t.classList).length;if(n){for(let e=0;e<n;e++)this._topLevelClasses.push(t.classList[0]),t.classList.remove(t.classList[0]);t.removeAttribute("class")}this._topLevelClasses.length&&(Array.isArray(t.component)?t.component[0]:t.component).classList.add(...this._topLevelClasses),clearTimeout(this._renderTimer),this.renderTimeout=setTimeout(()=>{clearTimeout(this._renderTimer),this._assignToDom(t,t.component)},10)}addEvent(e,t,s){this._events.push({selector:e,eventType:t,callback:s})}_getExternalCallback(e){let t=void 0;for(const s of e.split("."))t=(t||window)[s];return t}_getAllEventAttributes(e){e=e.attributes;const t=Array.from(e).filter(e=>e.name.startsWith("e-"));return t.map(e=>e.name.slice(2))}_isFlightkitElement(e){return e.toUpperCase().includes("FLK-")}_outerEventHandler(e){const t=h(e),s=(t.contents=e.detail,t.target.getAttribute("e-"+t.type));let r=void 0;for(const n of s.split("."))r=(r||window)[n];return e.preventDefault(),e.stopPropagation(),r(t)}_addEvents(e){if(e.isConnected)for(const t of this._events){let e=document.querySelector(t.selector);e&&("function"==typeof t.callback?(e.removeEventListener(t.eventType,t.callback),e.addEventListener(t.eventType,t.callback)):(e.removeEventListener(t.eventType,this._outerEventHandler),e.addEventListener(t.eventType,this._outerEventHandler)))}}removeEvents(){for(const t of this._events){let e=document.querySelector(t.selector);e&&("function"==typeof t.callback?e.removeEventListener(t.eventType,t.callback):e.removeEventListener(t.eventType,this._outerEventHandler))}this._events=[]}_assignToDom(e,t){e.innerHTML="";for(const r of Array.isArray(t)?t:[t])e.append(r);const s=setTimeout(()=>{this._addEvents(e),clearTimeout(s)},10)}}function T(e){const t=new DOMParser;return t.parseFromString(e,"image/svg+xml").documentElement}class N extends HTMLElement{base;component=null;_contents=[];_orderBy=[];properties=new Set;_columnOrder=[];_filter="";_selectionProperty="";_selectedIds=new Set;uniqueEntriesByProperties={};propertyLabelDictionary={};_templates={};_templateClasses={};static get observedAttributes(){return["contents","columns","order","filter","selection-property","templates"]}get columnOrder(){return this._columnOrder.length?this._columnOrder:this.properties}set columnOrder(e){let t;"string"==typeof e&&(t=e.split(",")),t=e,this._columnOrder=t}get contents(){return this._contents}set contents(e){this.analyzeData(e),this._contents=new I(e)}get orderBy(){return this._orderBy}set orderBy(e){if(Array.isArray(e))this._orderBy=e;else{const r=[];for(const n of e.split(",")){var t=n.split("|"),s=t[0],t=1<t.length?t[1]:"asc";r.push({propertyName:s,direction:t})}this._orderBy=r}}get filter(){return this._filter}set filter(e){this._filter=e.toString()}constructor(){super(),this.base=new n,this.setContents(this.getAttribute("contents")),this.setTemplates(this.getAttribute("templates")),this.setColumnOrder(this.getAttribute("columns")),this.filter=this.getAttribute("filter")||"";var e=this.getAttribute("order"),e=(e&&(this.orderBy=e),this.getAttribute("selection-property")),e=(e&&(this._selectionProperty=e),this.getElementsByTagName("template"));if(e.length){const s={};for(const r of e){var t=r.getAttribute("name");s[t]=r.innerHTML,r.classList.length&&(this._templateClasses[t]=[...r.classList])}this.setTemplates(s)}}attributeChangedCallback(e,t,s){switch(e){case"contents":this.setContents(s);break;case"templates":this.setTemplates(s);break;case"order":this.orderBy=s;break;case"filter":this.filter=s||"";break;case"selection-property":this._selectionProperty=s;break;case"columns":this.setColumnOrder(s)}this.createHtml(),this.base.render(this)}_createElement(e){const t=document.createElement(e);return t.innerHTML=this._templates[e],this._templateClasses[e]&&t.classList.add(...this._templateClasses[e]),t}createHtml(){const e=document.createElement("table");if(this.orderBy.length?this.contents.sort(this.orderBy):this.contents.sort([]),this.filter.length){const s=[];for(const r of this.columnOrder)s.push({propertyName:r,value:this.filter,operator:"like",type:"or",ignoreCase:!0});this.contents.filter(s)}else this.contents.filter([]);var t=this.createHead(),t=(e.append(t),this._templates.caption&&e.append(this._createElement("caption")),this.contents.execute()),t=this.createBody(t);e.append(t),this._templates.tfoot&&e.append(this._createElement("tfoot")),this.component=e}connectedCallback(){this.createHtml(),this.base.render(this)}disconnectedCallback(){this.base.removeEvents(this)}_updateCheckboxes(e){var t,s=e.querySelectorAll(".flk-selection-checkbox"),r=e._selectedIds.size,n=e.contents.execute().length,i=r!==n,o=r===n,a=0!==r;for(const c of s)c.dataset.objectId?(t=c.dataset.objectId,e._selectedIds.has(t)?c.checked=!0:c.checked=!1):a&&i?c.indeterminate=!0:a&&o?(c.indeterminate=!1,c.setAttribute("checked",!0)):c.indeterminate=!1}_emit(e,t,s){e=new CustomEvent(e,{detail:s,bubbles:!0,cancelable:!0});t.dispatchEvent(e)}emitSelectAll(e){var t=e.target.checked;const s=h(e).target;s._selectedIds=t?new Set(s.contents.execute().map(e=>e[s._selectionProperty])):new Set;e=t?s.contents.execute():[];s._emit("select",s,{selection:e}),s._updateCheckboxes(s)}emitSelect(e){var t=e.target.checked,s=e.target.dataset.objectId;const r=h(e).target,n=(t?r._selectedIds.add(s):r._selectedIds.delete(s),r._selectionProperty);e=r.contents.execute().filter(e=>r._selectedIds.has(e[n]));r._emit("select",r,{selection:e}),r._updateCheckboxes(r)}sortData(e){const t=h(e).target,s=function(e,t){let s=e.target,r="";for(;s.dataset[t]?r=s.dataset[t]:s=s.parentNode,!r;);return r}(e,"column");s&&(-1<(e=t._orderBy.findIndex(e=>e.propertyName===s))?"asc"===t._orderBy[e].direction?t._orderBy[e].direction="desc":t._orderBy.splice(e,1):t._orderBy.push({propertyName:s,direction:"asc"}),t.createHtml(),t.base.render(t))}setColumnOrder(e){this._columnOrder=e?Array.isArray(e)?e:e.split(","):[]}analyzeData(t){this.properties=new Set;var s=t.length;for(let e=0;e<s;e++)for(const r of Object.keys(t[e]))this.properties.add(r),this.uniqueEntriesByProperties[r]||(this.uniqueEntriesByProperties[r]=new Set),this.uniqueEntriesByProperties[r].add(t[e][r])}setTemplates(e){if(e)try{switch(typeof e){case"string":this._templates=JSON.parse(e)||[];break;case"object":this._templates=e}}catch(e){console.log(e)}}setContents(e){var t=e||this.contents||[];try{switch(typeof t){case"string":this.contents=JSON.parse(t)||[];break;case"object":Array.isArray(t)?this.contents=t:this.contents=[t]}}catch(e){console.log(e)}}convertJsonKeyToTitle(e){if("string"!=typeof e&&(e=e.toString()),this.propertyLabelDictionary[e])return this.propertyLabelDictionary[e];const t=e.replace(/([A-Z_])/g,e=>"_"===e?" ":" "+e.toLowerCase()).trim();var s=t.charAt(0).toUpperCase()+t.slice(1);return this.propertyLabelDictionary[e]=s}parseTemplate(e,r){return e.replace(/\{\{([\s\S]+?)\}\}/gim,(e,t)=>{let s="";t=t.trim();t=r[t];return t&&(s=t),Array.isArray(s)?s.join(", "):s.toString().trim()})}createSelectionCheckbox(e){const t=document.createElement("input");return t.setAttribute("type","checkbox"),t.classList.add("flk-selection-checkbox"),e&&(t.dataset.selected=e[this._selectionProperty]),t}createRow(e){const t=document.createElement("tr");if(this._selectionProperty.length){const n=document.createElement("td");var s=this.base.generateId();const i=this.createSelectionCheckbox(e);i.id=s,i.dataset.objectId=e[this._selectionProperty];var r=e[this._selectionProperty];this._selectedIds.has(r)?i.checked=!0:i.checked=!1,this.base.addEvent("#"+s,"change",this.emitSelect),n.append(i),t.append(n)}for(const o of this.columnOrder){const a=document.createElement("td");this._templates[o]?(a.innerHTML=this.parseTemplate(this._templates[o],e),this._templateClasses[o]&&a.classList.add(...this._templateClasses[o])):a.innerText=e[o],t.append(a)}return t}createBody(e){const t=document.createElement("tbody");for(const r of e){var s=this.createRow(r,null);t.append(s)}return t}createHead(){const e=document.createElement("thead"),t=document.createElement("tr");if(t.classList.add("cursor-pointer"),this._selectionProperty.length){const n=document.createElement("th");var s=this.base.generateId();const i=this.createSelectionCheckbox();i.id=s;var d=this.contents.execute().length;0<this._selectedIds.size&&this._selectedIds.size<d?i.indeterminate=!0:this._selectedIds.size===d&&(i.checked=!0),this.base.addEvent("#"+s,"change",this.emitSelectAll),n.append(i),t.append(n)}for(const o of this.columnOrder){var r=this.base.generateId();const a=document.createElement("th"),c=(a.id=r,a.dataset.column=o,document.createElement("span"));c.innerText=this.convertJsonKeyToTitle(o),a.append(c),this.base.addEvent("#"+r,"click",this.sortData);r=this.orderBy.find(e=>e.propertyName===o);if(r){const l=document.createElement("span");l.innerHTML="asc"===r.direction?'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-up-narrow-wide"><path d="m3 8 4-4 4 4"/><path d="M7 4v16"/><path d="M11 12h4"/><path d="M11 16h7"/><path d="M11 20h10"/></svg>':'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-down-wide-narrow"><path d="m3 16 4 4 4-4"/><path d="M7 20V4"/><path d="M11 4h10"/><path d="M11 8h7"/><path d="M11 12h4"/></svg>',a.append(l)}t.append(a)}return e.append(t),e}addEvent(e,t,s){this.base.addEvent(e,t,s)}init(){this.createHtml(),this.base.render(this)}}class B extends HTMLElement{base;componentId;constructor(){super(),this.base=new n}connectedCallback(){var e=this.getAttribute("top"),t=this.getAttribute("left"),s=this.getAttribute("center"),r=this.getAttribute("zIndex");this.id||(this.id=this.base.generateId()),this.style.display="block",this.style.position="fixed","string"==typeof s?(this.style.top=e||"50%",this.style.left="50%",this.style.transform="translate(-50%, -50%)"):(this.style.top=e||this.clientTop+"px",this.style.left=t||this.clientLeft+"px"),r&&(this.style.zIndex=r),this.componentId=this.getAttribute("handle");const n=document.createElement("div");n.innerHTML=this.innerHTML,this.component=n;s="#"+(this.componentId||this.id);this.base.addEvent(s,"mousedown",this._dragElement),this.base.render(this)}disconnectedCallback(){this.base.removeEvents(this)}_dragElement(e){const s=h(e,"flk-draggable").target;let r,n;function t(e){r=e.clientX-s.offsetLeft,n=e.clientY-s.offsetTop}function i(e){var t=e.clientX-r,e=e.clientY-n;s.style.left=t+"px",s.style.top=e+"px"}function o(e){e.preventDefault()}function a(){s.removeAttribute("draggable"),s.removeEventListener("dragstart",t),s.removeEventListener("dragend",a),document.removeEventListener("dragover",o),document.removeEventListener("drop",i)}s.setAttribute("draggable",!0),s.addEventListener("dragstart",t),s.addEventListener("dragend",a),document.addEventListener("dragover",o),document.addEventListener("drop",i)}}class D extends HTMLElement{_id;base;_draggableId;constructor(){super(),this.base=new n}_emit(e,t,s){e=new CustomEvent(e,{detail:s,bubbles:!0,cancelable:!0});t.dispatchEvent(e)}closeModal(e){const t=h(e,"flk-modal").target;t.classList.add("hidden"),t._emit("hide",t,{hidden:!0,id:t.id})}openModal(e=!0){const t=document.getElementById(this._draggableId);e&&(t.style.top="40%",t.style.left="50%"),this.classList.remove("hidden")}connectedCallback(){this.id||(this.id=this.base.generateId());const e=document.createElement("div");var t=this.base.generateId();const s=document.createElement("flk-draggable"),r=(this._draggableId=this.base.generateId(),s.id=this._draggableId,s.setAttribute("center",""),s.setAttribute("top","40%"),s.setAttribute("handle",t),s.setAttribute("zIndex","1080"),s.classList.add("border","shadow-lg","bg-white"),s.style.width="max-content",document.createElement("div"));var n=this.getAttribute("title");if(n){const l=document.createElement("span");l.innerText=n,l.classList.add("ml-1","mr-auto"),r.append(l)}r.id=t;const i=this.getAttribute("header-class");let o=[];i?o=o.concat(i.split(" ")):o.push("bg-gray-light"),r.classList.add(...o,"border-bottom","row","justify-end");n=this.base.generateId();const a=document.createElement("button"),c=(a.classList.add("py-0","px-1","outline-hover","no-border",...o),a.innerText="X",a.id=n,r.append(a),s.append(r),document.createElement("div"));c.innerHTML=this.innerHTML,s.append(c),e.append(s),this.component=e,this.base.addEvent("#"+n,"click",this.closeModal),this.base.render(this),this.classList.add("hidden")}disconnectedCallback(){this.base.removeEvents(this)}}class O extends HTMLElement{base;_buttonId;_drawerId;_iconId;constructor(){super(),this.base=new n}connectedCallback(){this.style.position="relative",this.style.display="flex",this.style.width="fit-content",this._buttonId=this.base.generateId();const e=document.createElement("button"),t=(e.classList.add("row"),e.id=this._buttonId,document.createElement("span")),s=(t.innerText=this.getAttribute("text"),this._iconId=this.base.generateId(),document.createElement("span"));var r=T('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down"><path d="m6 9 6 6 6-6"/></svg>');const n=T('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-up"><path d="m18 15-6-6-6 6"/></svg>'),i=(n.classList.add("hidden"),s.append(r,n),s.id=this._iconId,e.append(t,s),this._drawerId=this.base.generateId(),document.createElement("div"));i.id=this._drawerId,i.classList.add("shadow","inline-block","bg-white"),i.style.position="absolute",i.style.zIndex="1040";r=this.querySelector("template");r.innerHTML.length?i.innerHTML=r.innerHTML:i.append(r.firstChild),i.style.display="none",this.component=[e,i],this.base.addEvent("#"+this._buttonId,"click",this.toggleMenu);const o=document.querySelector("body");""!==o.getAttribute("flk-close-dropdown")&&(o.setAttribute("flk-close-dropdown",""),o.addEventListener("click",this.closeAllDropdownButtons)),this.base.render(this)}disconnectedCallback(){this.base.removeEvents(this);var e=document.querySelectorAll("flk-dropdown");if(!e||!e.length){const t=document.querySelector("body");t.removeAttribute("flk-close-dropdown"),t.removeEventListener("click",this.closeAllDropdownButtons)}}toggleMenu(e){const t=h(e).target;e=t._drawerId;const s=document.getElementById(e);var e="none"!==s.style.display,r=(s.style.display=e?"none":"block",t.getAttribute("drawer-width")),r=("string"==typeof t.getAttribute("right")&&(s.style.right="0px"),s.style.top=t.offsetHeight+"px",s.style.width=r||t.offsetWidth+"px",t._iconId);const n=document.getElementById(r);e?(n.childNodes[0].classList.remove("hidden"),n.childNodes[1].classList.add("hidden")):(n.childNodes[0].classList.add("hidden"),n.childNodes[1].classList.remove("hidden"))}_closeDropdown(){var e=this._drawerId;const t=document.getElementById(e);if("none"!==t.style.display){e=this._iconId;const s=document.getElementById(e);t.style.display="none",s.childNodes[0].classList.remove("hidden"),s.childNodes[1].classList.add("hidden")}}closeAllDropdownButtons(e){var t,s=h(e,"flk-dropdown").target,e=document.querySelectorAll("flk-dropdown");if(s)for(const r of e)s._buttonId!==r._buttonId&&(t=r._drawerId,"none"!==document.getElementById(t).style.display&&r._closeDropdown());else for(const n of e)n._closeDropdown()}}customElements.define("flk-table",N),customElements.define("flk-draggable",B),customElements.define("flk-modal",D),customElements.define("flk-dropdown",O)}();