<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <link rel="icon" type="image/svg+xml" href="/vite.svg" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Flightkit dev</title>
        <script src="js/irisset.js"></script>
        <script src="js/ardeaset.js"></script>
        <link rel="stylesheet" type="text/css" href="/css/avian.min.css" />
    </head>
    <body>
        <flk-button class="primary hello foo" i-click="test">
            <div>Hello</div>
        </flk-button>

        <script type="module" src="/main.js"></script>

        <input id="filter-ardea" type="text" placeholder="filter ardea table" />
        <flk-table
            id="ft-test2"
            class="table bg-white"
            selection-property="scientific_name"
            i-select="handleSelect"
        ></flk-table>

        <flk-table
            id="ft-test"
            class="table"
            columns="species,sepalLength,sepalWidth,petalLength,petalWidth"
            order="species|asc,sepalLength|desc"
            filter="1.6"
        ></flk-table>

        <script>
            function test(e) {
                alert(JSON.stringify(e));
            }

            function handleSelect(event) {
                console.log(event);
            }

            window.onload = () => {
                let ftTesttable = document.getElementById('ft-test');
                ftTesttable.setContents(window.irisSet);
                ftTesttable.init();

                let ftTesttable2 = document.getElementById('ft-test2');
                ftTesttable2.setContents(window.ardeaSet);
                ftTesttable2.init();

                document.getElementById('filter-ardea').addEventListener('keyup', (e) => {
                    ftTesttable2.setAttribute('filter', e.target.value)
                })
            };
            // window.onload = () => {
            //     let ftTesttable = document.getElementById('ft-test');
            //     ftTesttable.setContents(window.irisSet);

            //     // ftTesttable.columnOrder = [
            //     //     'sepalLength',
            //     //     'sepalWidth',
            //     //     'species',
            //     //     'petalLength',
            //     //     'petalWidth'
            //     // ];
            //     ftTesttable.orderBy = [
            //         {
            //             propertyName: 'species',
            //             direction: 'asc'
            //         },
            //         {
            //             propertyName: 'sepalLength',
            //             direction: 'desc'
            //         }
            //     ];

            //     setTimeout(() => {
            //         ftTesttable.removeAttribute('filter');
            //     }, 2000);
            // };
        </script>
    </body>
</html>
